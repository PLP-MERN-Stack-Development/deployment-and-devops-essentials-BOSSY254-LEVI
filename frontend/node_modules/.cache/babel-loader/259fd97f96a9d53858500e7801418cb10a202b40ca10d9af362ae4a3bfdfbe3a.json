{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/OneDrive/Desktop/FULL STACK/WEEK 7 ASSIGNMENT/deployment-and-devops-essentials-BOSSY254-LEVI/ai-finance-tracker/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddTransaction=()=>{const[formData,setFormData]=useState({amount:'',description:'',category:'Food',type:'expense',date:new Date().toISOString().split('T')[0],tags:''});const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const token=localStorage.getItem('token');const transactionData=_objectSpread(_objectSpread({},formData),{},{amount:parseFloat(formData.amount),tags:formData.tags?formData.tags.split(',').map(tag=>tag.trim()):[]});const response=await fetch('/api/transactions',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(transactionData)});const data=await response.json();if(response.ok){navigate('/transactions');}else{setError(data.message||'Failed to add transaction');}}catch(error){setError('Network error. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Transaction\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"card\",children:[error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',marginBottom:'10px'},children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"type\",children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"type\",name:\"type\",value:formData.type,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"expense\",children:\"Expense\"}),/*#__PURE__*/_jsx(\"option\",{value:\"income\",children:\"Income\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"amount\",name:\"amount\",value:formData.amount,onChange:handleChange,step:\"0.01\",min:\"0\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"description\",name:\"description\",value:formData.description,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",name:\"category\",value:formData.category,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Food\",children:\"Food\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Transportation\",children:\"Transportation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Entertainment\",children:\"Entertainment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bills\",children:\"Bills\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Shopping\",children:\"Shopping\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Healthcare\",children:\"Healthcare\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Education\",children:\"Education\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"date\",name:\"date\",value:formData.date,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tags\",children:\"Tags (comma-separated)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"tags\",name:\"tags\",value:formData.tags,onChange:handleChange,placeholder:\"e.g. lunch, work, monthly\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?'Adding...':'Add Transaction'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>navigate('/transactions'),children:\"Cancel\"})]})]})})]});};export default AddTransaction;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","AddTransaction","formData","setFormData","amount","description","category","type","date","Date","toISOString","split","tags","error","setError","loading","setLoading","navigate","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","token","localStorage","getItem","transactionData","parseFloat","map","tag","trim","response","fetch","method","headers","concat","body","JSON","stringify","data","json","ok","message","children","className","onSubmit","style","color","marginBottom","htmlFor","id","onChange","required","step","min","placeholder","display","gap","disabled","onClick"],"sources":["C:/Users/ADMIN/OneDrive/Desktop/FULL STACK/WEEK 7 ASSIGNMENT/deployment-and-devops-essentials-BOSSY254-LEVI/ai-finance-tracker/frontend/src/components/AddTransaction.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst AddTransaction = () => {\r\n  const [formData, setFormData] = useState({\r\n    amount: '',\r\n    description: '',\r\n    category: 'Food',\r\n    type: 'expense',\r\n    date: new Date().toISOString().split('T')[0],\r\n    tags: ''\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const transactionData = {\r\n        ...formData,\r\n        amount: parseFloat(formData.amount),\r\n        tags: formData.tags ? formData.tags.split(',').map(tag => tag.trim()) : []\r\n      };\r\n\r\n      const response = await fetch('/api/transactions', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(transactionData)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        navigate('/transactions');\r\n      } else {\r\n        setError(data.message || 'Failed to add transaction');\r\n      }\r\n    } catch (error) {\r\n      setError('Network error. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Add Transaction</h1>\r\n      <div className=\"form-container\">\r\n        <form onSubmit={handleSubmit} className=\"card\">\r\n          {error && <div style={{ color: 'red', marginBottom: '10px' }}>{error}</div>}\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"type\">Type</label>\r\n            <select\r\n              id=\"type\"\r\n              name=\"type\"\r\n              value={formData.type}\r\n              onChange={handleChange}\r\n              required\r\n            >\r\n              <option value=\"expense\">Expense</option>\r\n              <option value=\"income\">Income</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"amount\">Amount</label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"amount\"\r\n              name=\"amount\"\r\n              value={formData.amount}\r\n              onChange={handleChange}\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"description\">Description</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"description\"\r\n              name=\"description\"\r\n              value={formData.description}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"category\">Category</label>\r\n            <select\r\n              id=\"category\"\r\n              name=\"category\"\r\n              value={formData.category}\r\n              onChange={handleChange}\r\n              required\r\n            >\r\n              <option value=\"Food\">Food</option>\r\n              <option value=\"Transportation\">Transportation</option>\r\n              <option value=\"Entertainment\">Entertainment</option>\r\n              <option value=\"Bills\">Bills</option>\r\n              <option value=\"Shopping\">Shopping</option>\r\n              <option value=\"Healthcare\">Healthcare</option>\r\n              <option value=\"Education\">Education</option>\r\n              <option value=\"Other\">Other</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"date\">Date</label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"date\"\r\n              name=\"date\"\r\n              value={formData.date}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"tags\">Tags (comma-separated)</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"tags\"\r\n              name=\"tags\"\r\n              value={formData.tags}\r\n              onChange={handleChange}\r\n              placeholder=\"e.g. lunch, work, monthly\"\r\n            />\r\n          </div>\r\n\r\n          <div style={{ display: 'flex', gap: '10px' }}>\r\n            <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n              {loading ? 'Adding...' : 'Add Transaction'}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              onClick={() => navigate('/transactions')}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddTransaction;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}