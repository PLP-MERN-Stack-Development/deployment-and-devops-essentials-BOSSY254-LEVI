{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/OneDrive/Desktop/FULL STACK/WEEK 7 ASSIGNMENT/deployment-and-devops-essentials-BOSSY254-LEVI/ai-finance-tracker/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useContext}from'react';import{Link,useNavigate}from'react-router-dom';import{AuthContext}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({email:'',password:''});const[error,setError]=useState('');const[loading,setLoading]=useState(false);const[showPassword,setShowPassword]=useState(false);const{login}=useContext(AuthContext);const navigate=useNavigate();const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));// Clear error when user starts typing\nif(error)setError('');};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const response=await fetch('/api/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const data=await response.json();if(response.ok){login(data.user,data.token);navigate('/');}else{setError(data.message||'Login failed');}}catch(error){setError('Network error. Please try again.');}finally{setLoading(false);}};const togglePasswordVisibility=()=>{setShowPassword(!showPassword);};return/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"card\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83D\\uDD10\"}),\"Welcome Back\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"form-subtitle\",children:\"Sign in to your account to continue\"}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-error\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\u26A0\\uFE0F\"}),error]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83D\\uDCE7\"}),\"Email Address\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,placeholder:\"Enter your email\",required:true,autoComplete:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83D\\uDD12\"}),\"Password\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,placeholder:\"Enter your password\",required:true,autoComplete:\"current-password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"password-toggle\",onClick:togglePasswordVisibility,\"aria-label\":showPassword?'Hide password':'Show password',children:showPassword?'üôà':'üëÅÔ∏è'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-options\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"remember\"}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"}),\"Remember me\"]}),/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",className:\"forgot-link\",children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-full\",disabled:loading||!formData.email||!formData.password,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\"}),\"Signing in...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83D\\uDE80\"}),\"Sign In\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\",children:/*#__PURE__*/_jsx(\"span\",{children:\"or\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-links\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"link-primary\",children:\"Create one here\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"demo-notice\",children:/*#__PURE__*/_jsxs(\"small\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83D\\uDCA1\"}),\"Demo: Use any email/password to test the app\"]})})]})});};export default Login;","map":{"version":3,"names":["React","useState","useContext","Link","useNavigate","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","formData","setFormData","email","password","error","setError","loading","setLoading","showPassword","setShowPassword","login","navigate","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","user","token","message","togglePasswordVisibility","className","children","onSubmit","htmlFor","type","id","onChange","placeholder","required","autoComplete","onClick","to","disabled"],"sources":["C:/Users/ADMIN/OneDrive/Desktop/FULL STACK/WEEK 7 ASSIGNMENT/deployment-and-devops-essentials-BOSSY254-LEVI/ai-finance-tracker/frontend/src/components/Login.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst Login = () => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const { login } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n    // Clear error when user starts typing\r\n    if (error) setError('');\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const response = await fetch('/api/auth/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(formData)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        login(data.user, data.token);\r\n        navigate('/');\r\n      } else {\r\n        setError(data.message || 'Login failed');\r\n      }\r\n    } catch (error) {\r\n      setError('Network error. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const togglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <form onSubmit={handleSubmit} className=\"card\">\r\n        <h2>\r\n          <span className=\"icon\">üîê</span>\r\n          Welcome Back\r\n        </h2>\r\n        <p className=\"form-subtitle\">Sign in to your account to continue</p>\r\n\r\n        {error && (\r\n          <div className=\"alert alert-error\">\r\n            <span className=\"icon\">‚ö†Ô∏è</span>\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">\r\n            <span className=\"icon\">üìß</span>\r\n            Email Address\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter your email\"\r\n            required\r\n            autoComplete=\"email\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">\r\n            <span className=\"icon\">üîí</span>\r\n            Password\r\n          </label>\r\n          <div className=\"password-input-container\">\r\n            <input\r\n              type={showPassword ? 'text' : 'password'}\r\n              id=\"password\"\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              placeholder=\"Enter your password\"\r\n              required\r\n              autoComplete=\"current-password\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              className=\"password-toggle\"\r\n              onClick={togglePasswordVisibility}\r\n              aria-label={showPassword ? 'Hide password' : 'Show password'}\r\n            >\r\n              {showPassword ? 'üôà' : 'üëÅÔ∏è'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-options\">\r\n          <label className=\"checkbox-label\">\r\n            <input type=\"checkbox\" name=\"remember\" />\r\n            <span className=\"checkmark\"></span>\r\n            Remember me\r\n          </label>\r\n          <Link to=\"/forgot-password\" className=\"forgot-link\">\r\n            Forgot password?\r\n          </Link>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary btn-full\"\r\n          disabled={loading || !formData.email || !formData.password}\r\n        >\r\n          {loading ? (\r\n            <>\r\n              <span className=\"spinner\"></span>\r\n              Signing in...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <span className=\"icon\">üöÄ</span>\r\n              Sign In\r\n            </>\r\n          )}\r\n        </button>\r\n\r\n        <div className=\"divider\">\r\n          <span>or</span>\r\n        </div>\r\n\r\n        <div className=\"auth-links\">\r\n          <p>\r\n            Don't have an account?\r\n            <Link to=\"/register\" className=\"link-primary\">\r\n              Create one here\r\n            </Link>\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"demo-notice\">\r\n          <small>\r\n            <span className=\"icon\">üí°</span>\r\n            Demo: Use any email/password to test the app\r\n          </small>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}